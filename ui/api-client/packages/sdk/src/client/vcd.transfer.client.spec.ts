import {HttpClientModule, XhrFactory} from "@angular/common/http";
import {async, inject, TestBed} from "@angular/core/testing";
import {Subject} from "rxjs";
import {LoggingInterceptor} from "./logging.interceptor";
import {RequestHeadersInterceptor} from "./request.headers.interceptor";
import {VcdHttpClient} from "./vcd.http.client";
import {TransferProgress, TransferResult, VcdTransferClient} from "./vcd.transfer.client";
import "jasmine-ajax";
import { ResponseNormalizationInterceptor } from "./response.normalization.interceptor";

const TEST_BLOB = (function (base64: string): Blob {
    var binaryString = atob(base64);
    var len = binaryString.length;
    var bytes = new Uint8Array(len);
    for (var i = 0; i < len; i++) {
        bytes[i] = binaryString.charCodeAt(i);
    }
    return new Blob([bytes]);
})("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");

class BrokenBlob implements Blob {
    type = "blob";

    constructor(public size: number, public contentType = "application/octet-stream") {

    }

    msClose() {
        throw Error("Unsupported");
    }

    msDetachStream() {
        throw Error("Unsupported");
    }

    slice(start = 0, end = this.size, contentType = this.contentType): BrokenBlob {
        return new BrokenBlob(end - start, contentType);
    }
}

describe("TransferClient", () => {
    beforeEach(() => {
        jasmine.Ajax.install();
    });

    beforeEach(async(() => {
        TestBed.configureTestingModule({
            imports: [
                HttpClientModule
            ],
            providers: [
                LoggingInterceptor,
                RequestHeadersInterceptor,
                ResponseNormalizationInterceptor,
                VcdHttpClient
            ]
        });
    }));

    afterEach(() => jasmine.Ajax.uninstall());

    it("uploads a file in a single chunk", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 200});
        const transferClient = new VcdTransferClient(httpClient, "testUrl", TEST_BLOB.size);
        transferClient
            .upload(TEST_BLOB)
            .subscribe((result: TransferResult) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(result.bytesSent).toEqual(TEST_BLOB.size, "Wrong bytes sent");
                expect(result.chunksSent).toEqual(1, "Wrong chunks sent");
                expect(result.filename).toEqual("<blob>", "Wrong filename");
                expect(result.retryCount).toEqual(0, "Unexpected retries");
                expect(result.transferUrl).toBe("testUrl");
                expect(requests.length).toEqual(result.chunksSent);

                const reader = new FileReader();
                reader.addEventListener('loadend', () => {
                    expect(requests[0].method).toBe("PUT", "Method not a PUT");
                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes ${0}-${TEST_BLOB.size - 1}/${TEST_BLOB.size}`, "Range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "Payload was incorrect");
                    done();
                });
                reader.addEventListener('error', (err) => {
                    fail(err);
                    done();
                });
                reader.readAsArrayBuffer(TEST_BLOB);
            }, (err: Error) => {
                fail(err);
                done();
            });
    })());

    it("uploads a file in multiple chunks", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 200});
        const transferClient = new VcdTransferClient(httpClient, "testUrl", 1024);
        transferClient
            .upload(TEST_BLOB)
            .subscribe((result: TransferResult) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(result.bytesSent).toEqual(TEST_BLOB.size, "Wrong bytes sent");
                expect(result.chunksSent).toEqual(Math.ceil(TEST_BLOB.size / 1024), "Wrong chunks sent");
                expect(result.filename).toEqual("<blob>", "Wrong filename");
                expect(result.retryCount).toEqual(0, "Unexpected retries");
                expect(result.transferUrl).toBe("testUrl");
                expect(requests.length).toEqual(result.chunksSent);

                let checksDone = 0;
                requests.forEach((request: JasmineAjaxRequest, chunkIndex) => {
                    const chunkStart = chunkIndex * 1024;
                    const chunkEnd = Math.min(chunkStart + 1024, TEST_BLOB.size);
                    const expectedRequestData = TEST_BLOB.slice(chunkStart, chunkEnd);
                    const reader = new FileReader();
                    reader.addEventListener('loadend', () => {
                        expect(request.method).toBe("PUT", "Chunk " + chunkIndex + " was not a PUT");
                        expect(request.requestHeaders["Content-Range"])
                            .toEqual(`bytes ${chunkStart}-${chunkEnd - 1}/${TEST_BLOB.size}`, "Chunk " + chunkIndex + " range header was incorrect");
                        expect(request.params).toEqual(reader.result, "Chunk " + chunkIndex + " payload didn't match");
                        checksDone++;
                        if (checksDone == requests.length) {
                            done();
                        }
                    });
                    reader.addEventListener('error', (err) => {
                        fail(err);
                        checksDone++;
                        if (checksDone == requests.length) {
                            done();
                        }
                    });
                    reader.readAsArrayBuffer(expectedRequestData);
                });
            }, (err: Error) => {
                fail(err);
                done();
            });
    })());

    it("receives sensible progress during a chunked upload", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 200});
        const gobbledProgress: TransferProgress[] = [];
        const progressGobbler = new Subject<TransferProgress>();
        progressGobbler.subscribe((p) => gobbledProgress.push(p));
        const transferClient = new VcdTransferClient(httpClient, "testUrl", 1024);
        transferClient
            .upload(TEST_BLOB, progressGobbler)
            .subscribe((result: TransferResult) => {
                for (let i = 1; i < gobbledProgress.length; i++) {
                    expect(gobbledProgress[i].timeTakenMs).not.toBeLessThan(gobbledProgress[i - 1].timeTakenMs,
                        "progress time taken decreased at progress index " + i);
                    expect(gobbledProgress[i].bytesSent).not.toBeLessThan(gobbledProgress[i - 1].bytesSent,
                        "progress bytes sent decreased at progress index " + i);
                    expect(gobbledProgress[i].chunksRemaining).not.toBeGreaterThan(gobbledProgress[i - 1].chunksRemaining,
                        "progress chunks remaining increased at progress index " + i);
                    expect(gobbledProgress[i].chunksSent).not.toBeLessThan(gobbledProgress[i - 1].chunksSent,
                        "progress chunks remaining decreased at progress index " + i);
                    expect(gobbledProgress[i].bytesRemaining).not.toBeGreaterThan(gobbledProgress[i - 1].bytesRemaining,
                        "progress bytes remaining increased at progress index " + i);
                    expect(gobbledProgress[i].percent).not.toBeLessThan(gobbledProgress[i - 1].percent,
                        "progress percent decreased at progress index " + i);
                    expect(gobbledProgress[i].estimatedTimeRemainingMs).not.toBeLessThan(0,
                        "estimated time remaining negative at progress index " + i);
                }

                const finalProgress = gobbledProgress[gobbledProgress.length - 1];
                expect(finalProgress.bytesSent).toBe(TEST_BLOB.size, "final progress bytes sent wrong");
                expect(finalProgress.chunksRemaining).toBe(0, "final progress chunks remaining wrong");
                expect(finalProgress.chunksSent).toBe(31, "final progress chunks sent wrong");
                expect(finalProgress.bytesRemaining).toBe(0, "final progress bytes remaining wrong");
                expect(finalProgress.percent).toBe(100, "final progress percent wrong");

                done();
            }, (err: Error) => {
                fail(err);
                done();
            });
    })());

    it("handles an unchunked endpoint failing with a 404", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 404});
        const transferClient = new VcdTransferClient(httpClient, "testUrl", TEST_BLOB.size, 2);
        transferClient
            .upload(TEST_BLOB)
            .subscribe((result: TransferResult) => {
                fail("Should not have succeeded");
                done();
            }, (err: Error) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(requests.length).toEqual(3, "3 attempts should have been made");

                const reader = new FileReader();
                reader.addEventListener('loadend', () => {
                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-${TEST_BLOB.size - 1}/${TEST_BLOB.size}`, "First try range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "First try payload was incorrect");

                    expect(requests[1].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-${TEST_BLOB.size - 1}/${TEST_BLOB.size}`, "Second try range header was incorrect");
                    expect(requests[1].params).toEqual(reader.result, "Second try payload was incorrect");

                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-${TEST_BLOB.size - 1}/${TEST_BLOB.size}`, "Third try range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "Third try payload was incorrect");

                    done();
                });
                reader.addEventListener('error', (err) => {
                    fail(err);
                    done();
                });
                reader.readAsArrayBuffer(TEST_BLOB);
                done();
            });
    })());

    it("handles a chunked endpoint failing with a 404", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 404});
        const transferClient = new VcdTransferClient(httpClient, "testUrl", 1024, 2);
        transferClient
            .upload(TEST_BLOB)
            .subscribe((result: TransferResult) => {
                fail("Should not have succeeded");
                done();
            }, (err: Error) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(requests.length).toEqual(3, "3 attempts should have been made");

                const reader = new FileReader();
                reader.addEventListener('loadend', () => {
                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-1023/${TEST_BLOB.size}`, "First try range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "First try payload was incorrect");

                    expect(requests[1].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-1023/${TEST_BLOB.size}`, "Second try range header was incorrect");
                    expect(requests[1].params).toEqual(reader.result, "Second try payload was incorrect");

                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-1023/${TEST_BLOB.size}`, "Third try range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "Third try payload was incorrect");

                    done();
                });
                reader.addEventListener('error', (err) => {
                    fail(err);
                    done();
                });
                reader.readAsArrayBuffer(TEST_BLOB.slice(0, 1023));
                done();
            });
    })());

    it("handles an unchunked endpoint failing with a 500", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 500});
        const transferClient = new VcdTransferClient(httpClient, "testUrl", TEST_BLOB.size, 2);
        transferClient
            .upload(TEST_BLOB)
            .subscribe((result: TransferResult) => {
                fail("Should not have succeeded");
                done();
            }, (err: Error) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(requests.length).toEqual(3, "3 attempts should have been made");

                const reader = new FileReader();
                reader.addEventListener('loadend', () => {
                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-${TEST_BLOB.size - 1}/${TEST_BLOB.size}`, "First try range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "First try payload was incorrect");

                    expect(requests[1].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-${TEST_BLOB.size - 1}/${TEST_BLOB.size}`, "Second try range header was incorrect");
                    expect(requests[1].params).toEqual(reader.result, "Second try payload was incorrect");

                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-${TEST_BLOB.size - 1}/${TEST_BLOB.size}`, "Third try range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "Third try payload was incorrect");

                    done();
                });
                reader.addEventListener('error', (err) => {
                    fail(err);
                    done();
                });
                reader.readAsArrayBuffer(TEST_BLOB);
                done();
            });
    })());

    it("handles a chunked endpoint failing with a 500", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 500});
        const transferClient = new VcdTransferClient(httpClient, "testUrl", 1024, 2);
        transferClient
            .upload(TEST_BLOB)
            .subscribe((result: TransferResult) => {
                fail("Should not have succeeded");
                done();
            }, (err: Error) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(requests.length).toEqual(3, "3 attempts should have been made");

                const reader = new FileReader();
                reader.addEventListener('loadend', () => {
                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-1023/${TEST_BLOB.size}`, "First try range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "First try payload was incorrect");

                    expect(requests[1].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-1023/${TEST_BLOB.size}`, "Second try range header was incorrect");
                    expect(requests[1].params).toEqual(reader.result, "Second try payload was incorrect");

                    expect(requests[0].requestHeaders["Content-Range"])
                        .toEqual(`bytes 0-1023/${TEST_BLOB.size}`, "Third try range header was incorrect");
                    expect(requests[0].params).toEqual(reader.result, "Third try payload was incorrect");

                    done();
                });
                reader.addEventListener('error', (err) => {
                    fail(err);
                    done();
                });
                reader.readAsArrayBuffer(TEST_BLOB.slice(0, 1023));
                done();
            });
    })());

    it("handles an unchunked endpoint failing with a read error", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 200});
        const transferClient = new VcdTransferClient(httpClient, "testUrl", TEST_BLOB.size, 2);
        transferClient
            .upload(new BrokenBlob(TEST_BLOB.size)) // This should definitely bork
            .subscribe((result: TransferResult) => {
                fail("Should not have succeeded");
                done();
            }, (err: Error) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(requests.length).toEqual(0, "0 attempts should have been made");
                done();
            });
    })());

    it("handles a chunked endpoint failing with a read error", (done) => inject([VcdHttpClient], (httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        jasmine.Ajax.stubRequest("testUrl")
            .andReturn({status: 200});
        const transferClient = new VcdTransferClient(httpClient, "testUrl", 1024, 2);
        transferClient
            .upload(new BrokenBlob(TEST_BLOB.size)) // This should definitely bork
            .subscribe((result: TransferResult) => {
                fail("Should not have succeeded");
                done();
            }, (err: Error) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(requests.length).toEqual(0, "0 attempts should have been made");
                done();
            });
    })());


    it("handles a chunked endpoint with intermittent 500s", (done) => inject([XhrFactory, VcdHttpClient], (xhrFactory: XhrFactory, httpClient: VcdHttpClient) => {
        jasmine.Ajax.stubRequest(/.*/)
            .andReturn({status: 500, responseText: "Unexpected Ajax call"});
        let originalBuildFn = xhrFactory.build;
        const transferClient = new VcdTransferClient(httpClient, "testUrl", Math.ceil(TEST_BLOB.size / 3), 2);
        const failingCallNumbers = [0, 1, 3, 5, 6];
        let callCount = 0;
        spyOn(xhrFactory, "build").and.callFake((...args: any[]) => {  // Have to spy on the XhrFactory to be sure to catch each request
            jasmine.Ajax.stubs.reset();
            jasmine.Ajax.stubRequest(/.*/)
                .andReturn({status: 500, responseText: "Unexpected Ajax call"});
            const status = failingCallNumbers.indexOf(callCount) != -1 ? 500 : 200;
            jasmine.Ajax.stubRequest("testUrl").andReturn({status});
            callCount++;
            return originalBuildFn.apply(httpClient, args);
        });
        transferClient
            .upload(TEST_BLOB)
            .subscribe((result: TransferResult) => {
                const requests = jasmine.Ajax.requests.filter("testUrl");
                expect(requests.length).toEqual(8, "8 requests should have been made (3 chunks, 5 failures)");

                expect(result.bytesSent).toEqual(TEST_BLOB.size, "Wrong bytes sent");
                expect(result.chunksSent).toEqual(3, "Wrong chunks sent");
                expect(result.filename).toEqual("<blob>", "Wrong filename");
                expect(result.retryCount).toEqual(failingCallNumbers.length, "Unexpected retries");
                expect(result.transferUrl).toBe("testUrl");

                expect(requests[0].requestHeaders["Content-Range"])
                    .toEqual(requests[1].requestHeaders["Content-Range"], "First chunk was not retried");
                expect(requests[1].requestHeaders["Content-Range"])
                    .toEqual(requests[2].requestHeaders["Content-Range"], "First chunk was retried only once");
                expect(requests[2].requestHeaders["Content-Range"])
                    .not.toEqual(requests[3].requestHeaders["Content-Range"], "First chunk was retried two times");

                done();
            }, (err: Error) => {
                fail(err);
                done();
            });
    })());

});